<%- include('partials/header') %>
    <div class="bg-white p-4 rounded shadow-md">
        <!-- Your other form fields -->
        <form action="/add" method="post" enctype="multipart/form-data">
            <div class="mb-4">
                <label for="name" class="block text-gray-600">Name:</label>
                <input type="text" id="name" name="name" class="border w-full p-2" required>
            </div>
            <div class="mb-4">
                <label for="description" class="block text-gray-600">Description:</label>
                <textarea id="description" name="description" class="border w-full p-2" required></textarea>
            </div>
            <div class="mb-4">
                <label for="profileImage" class="block text-gray-600">Profile Image:</label>
                <input type="file" id="profileImage" name="profileImage" class="border w-full p-2" required>
            </div>
            <div id="image-preview" class="mb-4">
                <% if (imagePath) { %>
                    <!-- Display the local image using the imagePath if available -->
                    <img src="<%= imagePath %>" alt="Preview" class="w-full">
                <% } %>
            </div>
            <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Add</button>
        </form>

        <!-- JavaScript for image preview -->
        <script>
            document.getElementById('profileImage').addEventListener('change', function (event) {
                const file = event.target.files[0];

                if (file) {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        // Display image preview
                        const preview = document.getElementById('image-preview');
                        preview.innerHTML = `<img src="${e.target.result}" alt="Preview" class="w-full">`;
                    };

                    reader.readAsDataURL(file);
                }
            });
        </script>
    </div>

<%- include('partials/footer') %>
